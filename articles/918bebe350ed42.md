---
title: "useNavigate(): React Routerã§ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãã®æ´»ç”¨æ–¹æ³•"
emoji: "ğŸ’"
type: "tech"
topics: ["javascript", "react", "hooks"]
published: true
---

`useNavigate`ã¯ã€React Router v6ã§æä¾›ã•ã‚Œã‚‹ãƒ•ãƒƒã‚¯ã§ã€å¾“æ¥ã®`useHistory`ãƒ•ãƒƒã‚¯ã‚’ç½®ãæ›ãˆã‚‹å½¢ã§ä½¿ç”¨ã•ã‚Œã‚‹ã€‚ã‚³ãƒ¼ãƒ‰å†…ã§æ¡ä»¶ã«å¿œã˜ã¦ãƒšãƒ¼ã‚¸ç§»å‹•ã‚’åˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

ã“ã®ãƒ•ãƒƒã‚¯ã‚’ä½¿ã†ã“ã¨ã§ã€ã•ã¾ã–ã¾ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒŠãƒªã‚ªã«æŸ”è»Ÿã«å¯¾å¿œã§ãã‚‹ã€‚ç‰¹å®šã®æ¡ä»¶ãŒæº€ãŸã•ã‚ŒãŸã¨ãã«ãƒšãƒ¼ã‚¸ã‚’ç§»å‹•ã•ã›ãŸã„å ´åˆã‚„ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸéš›ã«åˆ¥ã®ãƒšãƒ¼ã‚¸ã¸ç§»å‹•ã•ã›ã‚‹å ´åˆã«ä½¿ã†ã€‚

## åŸºæœ¬çš„ãªä½¿ã„æ–¹
`useNavigate`ã¯é–¢æ•°ã‚’è¿”ã™ã€‚ã“ã®é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€æŒ‡å®šã—ãŸãƒ‘ã‚¹ã«ç§»å‹•ã™ã‚‹ã€‚
```tsx
// useNavigateã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹
import { useNavigate } from "react-router-dom";
const MyComponent = () => {
  const navigate = useNavigate(); // useNavigateã‚’ä½¿ã†
  return (
    <div>
      <h1>Current Page</h1>
      {/* ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€'/new-path'ã¸ç§»å‹•ã™ã‚‹ */}
      <button onClick={() => {navigate('/new-path')}}>Go to New Page</button>
    </div>
  );
};
export default MyComponent;
```

### ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ¸¡ã—æ–¹
```tsx
const handleClick = () => {
	navigate('/search-results?search=query');
};
// ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ '/search-results?search=query' ã«ç§»å‹•ã™ã‚‹
<button onClick={handleClick}>Search</button>

```
### çŠ¶æ…‹ã®æ¸¡ã—æ–¹
è¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰åŒã˜ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ãŸéš›ã«ã€ã©ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰æ¥ãŸã®ã‹ã‚’åˆ¤æ–­ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
```tsx
// ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‹ã‚‰è©³ç´°ãƒšãƒ¼ã‚¸ã¸ç§»å‹•
const navigateFromHome = useNavigate();
navigateFromHome('/details', { state: { from: 'home' } });

// ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã‹ã‚‰è©³ç´°ãƒšãƒ¼ã‚¸ã¸ç§»å‹•
const navigateFromProfile = useNavigate();
navigateFromProfile('/details', { state: { from: 'profile' } });
```
ã€Œè©³ç´°ãƒšãƒ¼ã‚¸ã€ã§ã¯ã€`useLocation`ãƒ•ãƒƒã‚¯ã‚’ä½¿ã£ã¦stateã‚’å–å¾—ã—ã€ã©ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰æ¥ãŸã‹ã‚’åˆ¤åˆ¥ã§ãã‚‹ã€‚
```tsx
import { useLocation } from "react-router-dom";
const DetailsPage = () => {
  const location = useLocation();
  // ã“ã®ãƒšãƒ¼ã‚¸ã«æ¥ã‚‹å‰ã®ãƒšãƒ¼ã‚¸ãŒ 'home' ã‹ 'profile' ã‹ãŒã‚ã‹ã‚‹
  const fromPage = location.state?.from;
};
```
### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ä½¿ã„æ–¹
ä¾‹ãˆã°ã€ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡å¾Œã«ã€Œç¢ºèªãƒšãƒ¼ã‚¸ã€ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ãƒ•ã‚©ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹ã®ã§ã¯ãªãã€ãã®å‰ã®ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹ã‚ˆã†ã«ã—ãŸã„ã¨ãã«`replace`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã€‚
```tsx
const handleSubmit = () => {
  // ãƒ•ã‚©ãƒ¼ãƒ ã‚’é€ä¿¡ã—ãŸå¾Œã€ç¢ºèªãƒšãƒ¼ã‚¸ã«ç§»å‹•ã™ã‚‹ã€‚
  // ãŸã ã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã§ãƒ•ã‚©ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ã¯æˆ»ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ã€‚
  navigate('/confirmation', { replace: true });
 // falseï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰:ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€å…ƒã®ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹ã€‚
 // true: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ãã®å‰ã®ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹ã€‚
};
```
