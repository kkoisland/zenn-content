---
title: "useLocation(): locationã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆReact Router v5.1ï¼‰"
emoji: "ğŸ’"
type: "tech"
topics: ["javascript", "react", "typescript", "hooks", "router"]
published: true
---

useLocation ãƒ•ãƒƒã‚¯ã¯ ãƒãƒ¼ã‚¸ãƒ§ãƒ³5.1ã‹ã‚‰å°å…¥ã•ã‚ŒãŸ React Router ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ•ãƒƒã‚¯ã®ä¸€ã¤ã§ã€ç¾åœ¨ã®URLã®å ´æ‰€ï¼ˆlocationï¼‰ã«é–¢ã™ã‚‹æƒ…å ±ã‚’æä¾›ã™ã‚‹ã€‚URLã®ãƒ‘ã‚¹åã€æ¤œç´¢ã‚¯ã‚¨ãƒªã€ãƒãƒƒã‚·ãƒ¥ãªã©ã®æƒ…å ±ã«åŸºã¥ã„ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚„å‹•ä½œã‚’æ¡ä»¶ä»˜ãã§åˆ¶å¾¡ã§ãã‚‹ã€‚

useLocation ãŒè¿”ã™ location ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å«ã¾ã‚Œã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€ä»¥ä¸‹ã®é€šã‚Šã€‚

```html
ä¾‹:
https://example.com/about?name=John&age=30#team
```
### pathname
URLã®ãƒ‘ã‚¹éƒ¨åˆ†ã‚’è¡¨ã™ã€‚ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€pathname ã¯ /about ã¨ãªã‚‹ã€‚

### search
ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å«ã‚€æ–‡å­—åˆ—ã€‚ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€search ã¯ ?name=John&age=30 ã¨ãªã‚‹ã€‚

### hash
URLã®ãƒãƒƒã‚·ãƒ¥ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚’è¡¨ã™ã€‚ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€hash ã¯ #team ã¨ãªã‚‹ã€‚

### key
ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªè­˜åˆ¥å­ã§ã€React Routerã«ã‚ˆã£ã¦è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã€‚ãƒšãƒ¼ã‚¸ãŒæ–°ã—ãèª­ã¿è¾¼ã¾ã‚ŒãŸã‚Šã€å±¥æ­´ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«æ›´æ–°ã•ã‚Œã‚‹ã€‚

```tsx
//ä½¿ç”¨ä¾‹
import React from 'react';
import { useLocation } from 'react-router-dom';

function MyComponent() {
  const location = useLocation();  // ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—

  // å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å–å¾—
  const pathname = location.pathname;  // URLã®ãƒ‘ã‚¹éƒ¨åˆ†
  const search = location.search;      // ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  const hash = location.hash;          // ãƒãƒƒã‚·ãƒ¥ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆ
  const key = location.key;            // ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚­ãƒ¼

  return (
    <div>
      <p>Current pathname: {pathname}</p>
      <p>Current search: {search}</p>
      <p>Current hash: {hash}</p>
      <p>Current key: {key}</p>
    </div>
  );
}

export default MyComponent;

```

### state
ãƒšãƒ¼ã‚¸é–“ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã„ã¦è¿½åŠ ã®çŠ¶æ…‹æƒ…å ±ã‚’æ¸¡ã™ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ã€‚state ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ“ä½œæ™‚ã«ä»»æ„ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¬¡ã®ãƒšãƒ¼ã‚¸ã«éè¡¨ç¤ºã§æ¸¡ã™ã“ã¨ãŒã§ãã‚‹æ©Ÿèƒ½ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€URLã«è¡¨ç¤ºã—ãŸããªã„æƒ…å ±ã‚’å®‰å…¨ã«æ¸¡ã™ã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã€‚

```tsx
//HomePage.tsx
import React from 'react';
import { Link } from 'react-router-dom';

const HomePage = () => {
  return (
    <div>
      <h1>Home Page</h1>
      <Link to={{
        pathname: "/about",
        state: { from: 'HomePage' }
      }}>
        Go to About Page
      </Link>
    </div>
  );
}
export default HomePage;
```
```tsx
//AboutPage.tsx
import React from 'react';
import { useLocation } from 'react-router-dom';

const AboutPage = () => {
  const location = useLocation<{ from: string }>();
  const { pathname } = location;

  return (
    <div>
      <h1>About Page</h1>
      <p>Current Path: {pathname}</p>
      <p>Redirected from: {location?.state?.from}</p>
    </div>
  );
}
export default AboutPage;

```
