---
title: "JSON ã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ã£ã¦Formã‚’ç”Ÿæˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€React JSON Schema Form (RJSF)"
emoji: "ğŸ¥"
type: "tech"
topics: ["react", "json"]
published: true
---

React JSON Schema Form v5ã¯ã€JSON Schema ã‚’ä½¿ç”¨ã—ã¦ãƒ•ã‚©ãƒ¼ãƒ ã‚’ç”Ÿæˆã™ã‚‹Reactãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®æŸ”è»Ÿæ€§ã‚’é§†ä½¿ã™ã‚Œã°ã€å°è¦æ¨¡ã‹ã‚‰å¤§è¦æ¨¡ã¾ã§å¹…åºƒã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©å¿œå¯èƒ½ã€‚ãŸã ã—ã€åˆã‚ã¦è§¦ã‚Œã‚‹å ´åˆã¯ç›´æ„Ÿçš„ã§ã¯ãªãã€æ‰±ã„ã«ãã•ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚

## RJSFã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¼ãƒ ã®åŸºæœ¬æ§‹æˆ
```tsx
  return (
    <Form
      schema={schema}
      uiSchema={uiSchema}
      formData={formData}
      onSubmit={handleSubmit}
      onChange={handleChange}
      validate={validate}
      widgets={widgets}
      ErrorList={CustomErrorList}
    />
  );
```

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸: [react-jsonschema-form domument](https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/)
ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰: [playground](https://rjsf-team.github.io/react-jsonschema-form/)

## JSON Schema
ãƒ•ã‚©ãƒ¼ãƒ ã®æ§‹é€ ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã«ã“ã®ã‚¹ã‚­ãƒ¼ãƒã‚’åˆ©ç”¨ã™ã‚‹ã€‚

```json
// ä½¿ç”¨ä¾‹
const schema = {
  "type": "object",
  "properties": {
    "age": {
      "type": "integer",
      "minimum": 0
    },
    "status": {
      "type": "string",
      "enum": ["student", "employed"]
    }
  },
  "required": ["age"],
  "dependencies": {
    "age": {
      "oneOf": [
        {
          "properties": {
            "age": {"maximum": 18},
            "school": {"type": "string"}
          },
          "required": ["school"]
        },
        {
          "properties": {
            "age": {"minimum": 19},
            "job": {"type": "string"}
          },
          "required": ["job"]
        }
      ]
    }
  }
}
```

### é…åˆ— (Arrays)
`"type": "array" ` ã‚’ä½¿ç”¨ã—ã¦é…åˆ—ã‚’å®šç¾©ã—ã€`items` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§å„ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚­ãƒ¼ãƒã‚’æŒ‡å®šã™ã‚‹

### ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (Objects)
`"type": "object"` ã§å®šç¾©ã™ã‚‹

### ä¾å­˜é–¢ä¿‚ (Dependencies)
`dependencies` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€å…¥åŠ›ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå‹•çš„ã«å¤‰åŒ–ã™ã‚‹ã‚¹ã‚­ãƒ¼ãƒã‚’ä½œæˆã™ã‚‹

### oneOf, anyOf, ãŠã‚ˆã³ allOf
`oneOf`, `anyOf`, `allOf` ã‚’ä½¿ç”¨ã—ã¦ã€è¤‡æ•°ã®ã‚¹ã‚­ãƒ¼ãƒã®ä¸­ã‹ã‚‰ä¸€ã¤ã¾ãŸã¯å…¨ã¦ã‚’æº€ãŸã™ãƒ‡ãƒ¼ã‚¿ã‚’è¨±å¯ã™ã‚‹ã€‚RJSFã¯ã“ã‚Œã‚‰ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«å¯¾å¿œã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹

### å˜ä¸€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ (Single fields)
ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å‹ã‚’`"type": "string"`ã€`"type": "number"`ã€`"type": "integer"`ã€`"type": "boolean"`ã€`"type": "null"`ãªã©ã§æŒ‡å®šã™ã‚‹

### ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã¨å‚ç…§ (Schema definitions and references)
ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã®å‚ç…§ã‚’è§£é™¤ã™ã‚‹ã“ã¨ã§ã€ã‚¹ã‚­ãƒ¼ãƒã®ä¸€éƒ¨ã‚’å†åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹


ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [JSON Schema](https://rjsf-team.github.io/react-jsonschema-form/docs/json-schema/)

## uiSchema
UI Schemaã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã€ã‚¹ã‚¿ã‚¤ãƒ«ã®æŒ‡å®šã€ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆã‚„ã‚ªãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã®è¨­å®šã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®èª¬æ˜ã‚„ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆã®è¿½åŠ ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æœ‰åŠ¹/ç„¡åŠ¹åŒ–ã‚„èª­ã¿å–ã‚Šå°‚ç”¨ã®è¨­å®šã€ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚„ã‚µãƒ–ãƒŸãƒƒãƒˆãƒœã‚¿ãƒ³ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãªã©ã€ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ç´°ã‹ãã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã€‚
```tsx
//ä½¿ç”¨ä¾‹
const uiSchema = {
  firstName: {
    "ui:autofocus": true,
    "ui:placeholder": "Enter your first name",
    "ui:autocomplete": "family-name",
  },
  lastName: {
    "ui:emptyValue": "",
    "ui:autocomplete": "given-name",
  }
};
```
uiSchemaã«ã¤ã„ã¦ã®è¿½åŠ çš„ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„è¨­å®šæ–¹æ³•ã«é–¢ã™ã‚‹æƒ…å ±ã¯ã€ã“ã“ã‹ã‚‰æ¢ã™:
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [uiSchema](https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/uiSchema)

## Widgets
Widgetsã¯ã€ç‰¹å®šã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ã€‚uiSchema ã® ui:widget ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä»‹ã—ã¦è¨­å®šã™ã‚‹ã€‚

```tsx
//ä½¿ç”¨ä¾‹
import { RJSFSchema, UiSchema } from '@rjsf/utils';
import Form from '@rjsf/core';

export const MyForm = () => {
    const schema: RJSFSchema = {
      type: 'object',
      properties: {
        done: {
          type: 'boolean',
        },
      },
    };
    const uiSchema: UiSchema = {
      done: {
        'ui:widget': 'radio', // ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³
      },
    };
    return <Form schema={schema} uiSchema={uiSchema} />
}
```
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [Widgets](https://rjsf-team.github.io/react-jsonschema-form/docs/usage/widgets)

## Custom Widgets
uiSchemaã‚’ä½¿ã£ã¦æ¨™æº–ã®ãƒ•ã‚©ãƒ¼ãƒ è¦ç´ ã«åŠ ãˆã¦ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç‰¹æœ‰ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’çµ„ã¿è¾¼ã‚€ã“ã¨ãŒã§ãã‚‹ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ç‹¬è‡ªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚„æ©Ÿèƒ½ã‚’æŒã¤ãƒ•ã‚©ãƒ¼ãƒ è¦ç´ ã‚’ãƒ•ã‚©ãƒ¼ãƒ ã«è¿½åŠ ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã€‚

```tsx
// ä½¿ç”¨ä¾‹
import { RJSFSchema, UiSchema } from '@rjsf/utils';
import Form from '@rjsf/core';
import { Checkbox } from 'your-design-system'; // å®Ÿéš›ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã«æ³¨æ„

export const MyForm = () => {
    const schema: RJSFSchema = {
        type: 'object',
        properties: {
            done: {
                type: 'boolean',
            },
        },
    };
    const uiSchema: UiSchema = {
        done: {
            'ui:widget': 'NewCheckbox', // ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå
        },
    };
    return (<Form
              schema={schema}
              uiSchema={uiSchema}
              widgets={{
                NewCheckbox: (props) => ( // å®Ÿéš›ã®ãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã‚’ä½¿ç”¨
                  <Checkbox
                    {...props} // å¿…è¦ã«å¿œã˜ã¦ãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã‚’æ¸¡ã™
                  />
                ),
              }}
            />);
}
```
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [Custom Widgets and Fields](https://rjsf-team.github.io/react-jsonschema-form/docs/advanced-customization/custom-widgets-fields)



## formData
formDataã¯ã€ãƒ•ã‚©ãƒ¼ãƒ ã®åˆæœŸå€¤ã‚’è¨­å®šã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã«ã‚ˆã‚‹å¤‰æ›´ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¿½è·¡ã™ã‚‹ã€‚
```tsx
//ä½¿ç”¨ä¾‹
import Form from '@rjsf/core';

const schema = {
  'type': 'object',
  'properties': {
    'name': {'type': 'string'},
    'age': {'type': 'number'}
  }
};

const formData = { //åˆæœŸå€¤ã‚’è¨­å®šã™ã‚‹
  'name': 'John Smith',
  'age': 40
};

function MyForm() {
  const onSubmit = (formData) => console.log("Data submitted: ", formData);

  return (
    <Form schema={schema} formData={formData} onSubmit={onSubmit} />
  );
}
```
formDataã‚„ãã®ä»–ã®Formã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„è¨­å®šæ–¹æ³•ã«é–¢ã™ã‚‹æƒ…å ±ã¯ã€ã“ã“ã‹ã‚‰æ¢ã™:
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [<Form /> props](https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/form-props)

## RJSFã‚’ã•ã‚‰ã«æ´»ç”¨ã™ã‚‹å ´åˆ: å‹å®šç¾©ã¨UIã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### RJSFã§ä½¿ã†é–¢æ•°ã€å®šæ•°ã€å‹å®šç¾©(TypeScript)
@rjsf/utils ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€React JSON Schema Form (RJSF) ã‚’TypeScriptã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æä¾›ã™ã‚‹ã€‚

ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ä¸»ãªå‹ã¯ä»¥ä¸‹ã®é€šã‚Š:
`WidgetProps`: ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œæˆã™ã‚‹ã®ã«å¿…è¦ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹å®šç¾©ã€‚
`RJSFSchema`: JSONã‚¹ã‚­ãƒ¼ãƒã‚„UIã‚¹ã‚­ãƒ¼ãƒã‚’æ‰±ã†ãŸã‚ã®å‹å®šç¾©ã€‚

ç‰¹å®šã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ãŸã„ã¨ãã¯ã€ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é–¢æ•°ã‹ã‚‰æ¢ã™ã¨ã‚ˆã„:
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [RJSF utility functions, constants and types](https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/utility-functions)

### ãƒ†ãƒ¼ãƒ(Themes)
API Referenceå†…ã®themesã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã¯ã€RJSFã§antdã€chakra-uiã€semantic-uiãªã©ã®UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒ†ãƒ¼ãƒã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ãŒã‚ã‚‹ã€‚

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [Themes](https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/themes/antd/uiSchema)
ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ†ãƒ¼ãƒ: [Thems](https://rjsf-team.github.io/react-jsonschema-form/docs/usage/themes)


ã“ã®è¨˜äº‹ã®è‹±èªã¸ã®ç¿»è¨³ã¯ã“ã¡ã‚‰: [Generate Forms Using JSON Schema: React JSON Schema Form (RJSF)](https://medium.com/@kkoisland/generate-forms-using-json-schema-react-json-schema-form-rjsf-3bd0b76d24c9)
